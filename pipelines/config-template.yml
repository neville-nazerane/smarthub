
parameters:
- name: configs
  type: object
  default: 
    ASPNETCORE_ENVIRONMENT: Production
    smartthings__PAT: $(PAT)
    sql: $(sql)
    web_insights: $(web_insights)

steps:
- ${{ each config in parameters.configs }}:
  - script: 'echo "Environment=${{ config.key }}=''${{ config.value }}''" >> $(Pipeline.Workspace)/drop/linux.service'
    displayName: Adding configuration for ${{ config.key }}

